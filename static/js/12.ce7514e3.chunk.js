(this["webpackJsonpgraviz-telescope"]=this["webpackJsonpgraviz-telescope"]||[]).push([[12],{671:function(e,t,a){e.exports={profile:"Profile_profile__11r46",content:"Profile_content__2-lJD",section:"Profile_section__2_Hqj",title:"Profile_title__24UgM",sectionTitle:"Profile_sectionTitle__1zwuN",profileIcon:"Profile_profileIcon__3j9Ou",userName:"Profile_userName__o0_zt",email:"Profile_email__1CxX-",button:"Profile_button__1y3yr",text:"Profile_text__2Prff",label:"Profile_label__338kv",divider:"Profile_divider___be8v"}},682:function(e,t,a){"use strict";a.r(t);var r=a(5),s=a.n(r),n=a(8),c=a(7),i=a(1),o=a(2),l=a(671),u=a.n(l),d=a(43),j=a(30),b=a(31),p=a(34),h=a(46),m=a(22),f=a(38),v=a(26),O=a(67),x=Object(O.c)(b.f),w=v.e().email();t.default=Object(j.b)((function(e){var t=e.user;return{firstName:t.firstName,lastName:t.lastName,company:t.company,title:t.title,branch:t.branch,market:t.market,email:t.email,phone:t.phone,isUserReportReceiver:t.isReportReceiver}}),(function(e){return{updateUserProfileSettings:function(t){return e(p.updateUserProfileSettings(t))},reAuthenticate:function(t){return e(p.reAuthenticate(t))},updateEmail:function(t){return e(p.updateEmail(t))},updatePassword:function(t){return e(p.updatePassword(t))},updateIsUserReportReceiver:function(){return e(p.updateIsUserReportReceiver())}}}))((function(e){var t=e.firstName,a=void 0===t?"":t,r=e.lastName,l=void 0===r?"":r,j=e.company,p=void 0===j?"":j,v=e.title,O=void 0===v?"":v,N=e.branch,_=void 0===N?"":N,y=e.market,P=void 0===y?"":y,g=e.email,k=void 0===g?"":g,R=e.phone,S=void 0===R?"":R,H=e.isUserReportReceiver,C=e.updateUserProfileSettings,U=e.reAuthenticate,E=void 0===U?function(){}:U,I=e.updateEmail,q=void 0===I?function(){}:I,T=e.updatePassword,Y=void 0===T?function(){}:T,z=e.updateIsUserReportReceiver,M=Object(o.useContext)(d.a).setIsGlobalPreloaderShown,A=Object(o.useState)(p),J=Object(c.a)(A,2),D=J[0],B=J[1],G=Object(o.useState)(O),V=Object(c.a)(G,2),X=V[0],F=V[1],K=Object(o.useState)(_),L=Object(c.a)(K,2),Q=L[0],W=L[1],Z=Object(o.useState)(P),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)(S),re=Object(c.a)(ae,2),se=re[0],ne=re[1],ce=Object(o.useState)(""),ie=Object(c.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(o.useState)(""),de=Object(c.a)(ue,2),je=de[0],be=de[1],pe=Object(o.useState)(""),he=Object(c.a)(pe,2),me=he[0],fe=he[1],ve=Object(o.useState)(""),Oe=Object(c.a)(ve,2),xe=Oe[0],we=Oe[1];function Ne(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h.notify.show("Oops, something went wrong","error");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var ye=Object(f.c)(3e3),Pe=ye.errors,ge=ye.setErrors;function ke(){return(ke=Object(n.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a=oe.trim(),r=je.trim(),a||(t.currentPassword="Required"),w.isValidSync(r)||(t.newEmail="Should be a valid email address"),r||(t.newEmail="Required"),!Object.keys(t).length){e.next=9;break}return ge(t),e.abrupt("return");case 9:return M(!0),e.prev=10,e.next=13,E(a);case 13:return e.next=15,q(r);case 15:h.notify.show("Your email has been updated","success"),Se(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),h.notify.show(e.t0,"error");case 22:M(!1);case 23:case"end":return e.stop()}}),e,null,[[10,19]])})))).apply(this,arguments)}function Re(){return(Re=Object(n.a)(s.a.mark((function e(){var t,a,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a=oe.trim(),r=me.trim(),n=xe.trim(),a||(t.currentPassword="Required"),8,r.length<8&&(t.newPassword="New password must be at least ".concat(8," characters")),r||(t.newPassword="Required"),n!==r&&(t.confirmedNewPassword="Passwords do not match"),n||(t.confirmedNewPassword="Required"),!Object.keys(t).length){e.next=13;break}return ge(t),e.abrupt("return");case 13:return M(!0),e.prev=14,e.next=17,E(a);case 17:return e.next=19,Y(r);case 19:h.notify.show("Your password has been updated","success"),Se(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(14),h.notify.show(e.t0,"error");case 26:M(!1);case 27:case"end":return e.stop()}}),e,null,[[14,23]])})))).apply(this,arguments)}function Se(){le(""),be(""),fe(""),we("")}function He(){return(He=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,z();case 4:h.notify.show("Your changes have been saved","success"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.dir(e.t0),h.notify.show("Oops, something went wrong","error");case 11:M(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(i.jsxs)("div",{className:u.a.profile,children:[Object(i.jsx)("div",{className:u.a.title,children:"Your profile"}),Object(i.jsxs)("div",{className:u.a.content,children:[Object(i.jsxs)("form",{className:u.a.section,children:[Object(i.jsx)("div",{className:u.a.sectionTitle,children:"Personal information"}),Object(i.jsx)(m.Profile,{className:u.a.profileIcon}),Object(i.jsxs)("div",{className:u.a.userName,children:[a," ",l]}),Object(i.jsx)("div",{className:u.a.email,children:k}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"My company"}),Object(i.jsx)(b.f,{className:u.a.input,value:D,changeHandler:function(e){B(e),Ne({company:e})}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Title"}),Object(i.jsx)(b.f,{className:u.a.input,value:X,changeHandler:function(e){F(e),Ne({title:e})}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Branch"}),Object(i.jsx)(b.f,{className:u.a.input,value:Q,changeHandler:function(e){W(e),Ne({branch:e})}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Market"}),Object(i.jsx)(b.f,{className:u.a.input,value:ee,changeHandler:function(e){te(e),Ne({market:e})}})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Phone"}),Object(i.jsx)(b.f,{className:u.a.input,value:se,changeHandler:function(e){ne(e),Ne({phone:e})}})]})]}),Object(i.jsxs)("div",{className:u.a.section,children:[Object(i.jsx)("div",{className:u.a.sectionTitle,children:"Credentials"}),Object(i.jsx)("div",{className:u.a.text,children:"In order to change your email or password, enter your current password:"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Current password"}),Object(i.jsx)(x,{className:u.a.input,type:"password",value:oe,changeHandler:function(e){return le(e)},error:Pe.currentPassword})]}),Object(i.jsx)("div",{className:u.a.divider}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"New email"}),Object(i.jsx)(x,{className:u.a.input,type:"email",value:je,changeHandler:function(e){return be(e)},error:Pe.newEmail})]}),Object(i.jsx)("button",{className:u.a.button,onClick:function(){return ke.apply(this,arguments)},children:"Change my email"}),Object(i.jsx)("div",{className:u.a.divider}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"New password"}),Object(i.jsx)(x,{className:u.a.input,type:"password",value:me,changeHandler:function(e){return fe(e)},error:Pe.newPassword})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:u.a.label,children:"Re-ender your new password"}),Object(i.jsx)(x,{className:u.a.input,type:"password",value:xe,changeHandler:function(e){return we(e)},error:Pe.confirmedNewPassword})]}),Object(i.jsx)("button",{className:u.a.button,onClick:function(){return Re.apply(this,arguments)},children:"Change my password"})]}),Object(i.jsxs)("div",{className:u.a.section,children:[Object(i.jsx)("div",{className:u.a.sectionTitle,children:"Monthly reports"}),Object(i.jsxs)("div",{className:u.a.text,children:["Your monthly reports are"," ",H?"enabled":"disabled"," now"]}),Object(i.jsx)("button",{className:u.a.button,onClick:function(){return He.apply(this,arguments)},children:H?"Disable reports":"Enable reports"})]})]})]})}))}}]);
//# sourceMappingURL=12.ce7514e3.chunk.js.map