(this["webpackJsonpgraviz-telescope"]=this["webpackJsonpgraviz-telescope"]||[]).push([[8],{662:function(e,t,r){e.exports={aiTrainer:"AiTrainer_aiTrainer__PqTha",content:"AiTrainer_content__3Sbct",title:"AiTrainer_title__1I2OC",description:"AiTrainer_description__1pQKN",image:"AiTrainer_image__4k9VL",leftBox:"AiTrainer_leftBox__2IvLe",rightBox:"AiTrainer_rightBox__16ge0",boxTitle:"AiTrainer_boxTitle__3mgzt",dimmedText:"AiTrainer_dimmedText__2xi9l",wordTilesWrapper:"AiTrainer_wordTilesWrapper__2Pauy",wordTileLeftBox:"AiTrainer_wordTileLeftBox__27m_l",wordTileRightBox:"AiTrainer_wordTileRightBox__2pCBa",placeholder:"AiTrainer_placeholder__3eISt",buttonClose:"AiTrainer_buttonClose__1XTyr",buttonArrow:"AiTrainer_buttonArrow__nzhbJ",buttonRecalculate:"AiTrainer_buttonRecalculate__2WsWW"}},677:function(e,t,r){"use strict";r.r(t);var n=r(5),i=r.n(n),a=r(8),c=r(9),s=r(7),o=r(1),l=r(2),d=r(662),u=r.n(d),b=r(43),h=r(30),j=r(31),x=r(22),m=r(46),O=r(34),p=r(13),f=r(25),v=r(38);t.default=Object(h.b)((function(e){return{currentSearchId:e.current.searchId,searches:e.searches,mainBrand:e.brands[0],sentimentDriversWidget:e.widgets.sentimentDrivers}}),{updateSearchExcludedSuggestions:O.updateSearchExcludedSuggestions})((function(e){var t=e.currentSearchId,r=e.searches,n=e.mainBrand,d=e.sentimentDriversWidget,h=e.updateSearchExcludedSuggestions,O=Object(l.useContext)(b.a).setIsGlobalPreloaderShown,g=Object(l.useState)(0),_=Object(s.a)(g,2),w=_[0],T=_[1],N=Object(l.useState)(!1),A=Object(s.a)(N,2),y=A[0],B=A[1],k=Object(l.useMemo)((function(){return r.find((function(e){return e.id===t}))}),[r,t]),S=Object(l.useMemo)((function(){var e;return(null===k||void 0===k||null===(e=k.suggestions[n.name])||void 0===e?void 0:e.excluded)||[]}),[k,n.name]),W=function(){return Object(c.a)(S).sort().join("")},I=Object(l.useRef)(W()),R=Object(l.useMemo)((function(){return Object.values(d).reduce((function(t,r){var n=e("positive",r),i=e("negative",r);return[].concat(Object(c.a)(t),Object(c.a)(n),Object(c.a)(i))}),[]);function e(e,t){var r,i;return(null===t||void 0===t||null===(r=t.values[n.id])||void 0===r||null===(i=r[e])||void 0===i?void 0:i.map((function(e){var t=e.word,r=e.relatedWords;return[t].concat(Object(c.a)(r)).filter((function(e){return!new RegExp(e,"i").test(S.join(""))}))})))||[]}}),[d,n.id,S]);Object(l.useEffect)((function(){return Object(f.B)(t,(function(e){B(Boolean(null===e||void 0===e?void 0:e.recalculatingWidgets))}))}),[t]);var C=Object(v.b)(y);function E(e){return z.apply(this,arguments)}function z(){return(z=Object(a.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t,Object(p.n)(S,r));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.dir(e.t0),m.notify.show("Oops, something went wrong","error");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function L(){return(L=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,Object(f.x)(t);case 4:I.current=W(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.dir(e.t0),m.notify.show("Oops, something went wrong","error");case 11:O(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){y!==C&&(y?m.notify.show("This search is currently being recalculated. You will be able to edit the words again, once it is done","warning",7500):m.notify.show("Now you are able to edit the words","success",5e3))}),[y,C]),Object(o.jsxs)("div",{className:u.a.aiTrainer,children:[Object(o.jsxs)("div",{className:u.a.content,children:[Object(o.jsx)("div",{className:u.a.title,children:"Train your AI"}),Object(o.jsxs)("div",{className:u.a.description,children:["In order to increase the quality of words related to your brand we sometimes need to teach our AI to pick the right words. First we order by category clusters and then refine the search to fit you.",Object(o.jsx)(j.e,{className:u.a.image,name:"birdAI"})]}),!!R.length&&Object(o.jsxs)("div",{className:u.a.leftBox,children:[Object(o.jsxs)("div",{className:u.a.boxTitle,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:u.a.dimmedText,children:"WORD CLUSTER"})," ",Object(o.jsx)("b",{children:w+1})," ",Object(o.jsx)("span",{className:u.a.dimmedText,children:"OF"})," ",Object(o.jsx)("b",{children:R.length})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:u.a.buttonArrow,onClick:function(){return T((function(e){return 0===e?R.length-1:--e}))},children:Object(o.jsx)(x.Triangle,{style:{transform:"rotate(-90deg)"},size:10})}),Object(o.jsx)("button",{className:u.a.buttonArrow,onClick:function(){return T((function(e){return e===R.length-1?0:++e}))},children:Object(o.jsx)(x.Triangle,{style:{transform:"rotate(90deg)"},size:10})})]})]}),Object(o.jsx)("div",{className:u.a.wordTilesWrapper,children:R[w]&&(R[w].length?R[w].map((function(e,t){return Object(o.jsx)(j.o,{className:u.a.wordTileLeftBox,word:e,clickHandler:y?void 0:function(){return E(e)},sign:y?void 0:"plus"},t)})):Object(o.jsx)("div",{className:u.a.placeholder,children:"All words of this cluster have been deselected"}))})]}),Object(o.jsxs)("div",{className:u.a.rightBox,children:[Object(o.jsx)("div",{className:u.a.boxTitle,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:u.a.dimmedText,children:"Here are the words you "})," ",Object(o.jsx)("b",{children:"don't"})," ",Object(o.jsx)("span",{className:u.a.dimmedText,children:"think relate to brand"})," ",Object(o.jsx)("b",{children:n.name})]})}),Object(o.jsx)("div",{className:u.a.wordTilesWrapper,children:S.length?S.map((function(e,t){return Object(o.jsx)(j.o,{className:u.a.wordTileRightBox,word:e,clickHandler:y?void 0:function(){return E(e)},sign:y?void 0:"minus"},t)})):Object(o.jsx)("div",{className:u.a.placeholder,children:"No words have been deselected yet"})})]})]}),W()!==I.current&&!y&&Object(o.jsxs)("button",{className:u.a.buttonRecalculate,onClick:function(){return L.apply(this,arguments)},children:["Recalculate search ",k?'"'.concat(k.name,'"'):""]})]})}))}}]);
//# sourceMappingURL=8.8e1b09f0.chunk.js.map