{"version":3,"sources":["../../node_modules/raf/index.js","../../node_modules/performance-now/lib/performance-now.js","../../node_modules/@essentials/request-timeout/dist/es/index.js","../../node_modules/@react-hook/debounce/dist/es/index.js","../../node_modules/@react-hook/window-size/dist/es/index.js","../../node_modules/react-is/cjs/react-is.production.min.js","../../node_modules/react-is/cjs/react-is.development.js","../../node_modules/react-is/index.js","../../node_modules/object-assign/index.js","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/checkPropTypes.js","../../node_modules/prop-types/factoryWithTypeCheckers.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/uuid/lib/bytesToUuid.js","../../node_modules/prop-types/index.js","../../node_modules/uuid/lib/rng-browser.js","../../node_modules/uuid/v4.js","../../src/cumulio-component/utils/generateIframeUrl.ts","../../src/cumulio-component/cumulio-model.ts","../../src/cumulio-component/cumulio-dashboard.ts","../../src/cumulio-component/store/cumulio.types.ts","../../src/cumulio-component/store/cumulio.actions.ts","../../src/cumulio-component/store/hooks/useCumulio.ts","../../src/cumulio-component/store/hooks/useMessage.ts","../../node_modules/@use-it/event-listener/dist/event-listener.m.js","../../src/cumulio-component/cumulio-component.tsx","../../node_modules/tslib/tslib.es6.js","../../src/cumulio-component/store/epics/setStatus.ts","../../src/cumulio-component/store/epics/calculateDashboardDimensions.ts","../../src/cumulio-component/store/utils/getIframesForDashboard.ts","../../src/cumulio-component/store/epics/validateDashboard.ts","../../src/cumulio-component/store/cumulio.reducer.ts","../../src/cumulio-component/store/epics/checkBrowserSupport.ts","../../src/cumulio-component/store/messages/changeFiltersMessage.ts","../../src/cumulio-component/store/messages/dataMessage.ts","../../src/cumulio-component/store/messages/loadMessage.ts","../../src/cumulio-component/store/messages/errorMessage.ts","../../src/cumulio-component/store/messages/exportMessage.ts","../../src/cumulio-component/store/epics/getData.ts","../../src/cumulio-component/store/epics/setAuthorization.ts","../../src/cumulio-component/store/epics/refreshData.ts","../../src/cumulio-component/store/epics/exportDashboard.ts","../../src/cumulio-component/store/epics/reloadDashboard.ts"],"names":["getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","module","process","hr","uptime","Date","getTime","call","this","root","window","global","vendors","suffix","raf","caf","i","length","last","id","queue","callback","_now","next","Math","max","setTimeout","cp","slice","cancelled","e","round","push","handle","fn","apply","arguments","object","requestAnimationFrame","cancelAnimationFrame","clearRequestTimeout","cancel","value","requestTimeout","delay","start","loop","useCallback","useEffect","useState","useRef","useDebounceCallback","wait","leading","timeout","_ref","current","args","self","useDebounce","initialState","_ref_0","setState","emptyArr","emptyObj","useSizeHook","dim","initialValue","options","document","documentElement","size","setDebouncedSize","setSize","addEventListener","removeEventListener","useWindowHeight","useWindowWidth","Object","defineProperty","exports","b","Symbol","for","c","d","f","g","h","k","l","m","n","p","q","r","t","v","w","x","y","a","u","$$typeof","type","z","require$$0","getOwnPropertySymbols","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","err","shouldUseNative","checkPropTypes","typeSpecs","values","location","componentName","getStack","resetWarningCache","Function","bind","emptyFunction","emptyFunctionWithReset","shim","props","propName","propFullName","secret","ReactPropTypesSecret","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","PropTypes","require$$2","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","Array","random","byteToHex","toString","substr","buf","offset","bth","rng","ii","bytesToUuid","ScreenMode","sanitizeUrl","url","sanitizedUrl","replace","trim","isAbsoluteUrl","urlSchemeParseResults","match","urlScheme","test","RegExp","dashboardId","container","appServer","host","port","version","language","chartDimensions","width","height","loaded","loader","background","fontColor","spinnerColor","spinnerBackground","logoColor","_id","uuid","extendWithComponentProps","prop","loaderBackground","loaderFontColor","loaderSpinnerColor","loaderSpinnerBackground","loaderLogoColor","chartId","getIframeUrl","currentMode","dashboard","currentScreenmode","screenmode","authKey","authToken","chartEmbedding","queryString","ldrbg","ldrftclr","ldrspclr","ldrspbg","ldrlgclr","indexOf","key","token","joinedQueryString","encodeURIComponent","iframeUrl","generateIframeUrl","MessageTypes","breakpoints","MOBILE","TABLET","DESKTOP","LARGE_SCREEN","FIXED","Actions","Translations","initializing","en","nl","fr","errorDashboard","errorChart","loadAction","payload","LOAD","setContainerWidthAction","SET_CONTAINER_WIDTH","CumulioContext","useCumulio","context","useMessage","dispatch","state","o","useEventListener","message","data","INIT","replaceOldDashboards","CHANGED_FILTERS","filters","filter","activeFilter","properties","origin","CHANGE_FILTERS","changeFiltersAction","DATA","dataAction","rawData","dimensions","ERROR","errorAction","EXPORT","exportAction","error","CumulioComponent","initialWidth","initialHeight","switchScreenModeOnResize","containerRef","windowWidth","windowHeight","iframeSrc","setIframeSrc","cssOptions","borderWidth","loaderSize","minHeight","loadingMessage","setLoadingMessage","containerId","paramsId","iframeId","createInitialDashboard","validatedDashboard","dashboards","find","CHECK_BROWSER","VALIDATE_DASHBOARD","buildLoadingMessage","offsetWidth","getCurrentScreenmode","isFirstRun","CALCULATE_DIMENSIONS","iframeDimensions","getElementsByClassName","iframe","src","includes","style","handleError","breakpoint","mode","SET_CURRENT_SCREEN_MODE","msg","className","backgroundStyles","ref","chartHeightDefined","display","containerLoaderStyles","chartWidthDefined","loaderStyles","padding","parseInt","ciolcStyles","borderBottom","borderLeft","borderRight","borderTop","color","styleObject","opacity","iframeStyles","displayableMessage","CumulioDashboard","console","defaultProps","AUTO","switchScreenmodeOnResize","propTypes","s","setStatus","status","existingDashboard","calculateDashboardDimensions","currentWidth","currentHeight","containerWidth","availableScreenModes","fixed","setChartEmbeddingAvailableScreenmodes","setAvailableScreenModes","screenMode","min","chosenMode","iframeHeight","iframeWidth","firstAvailableScreenMode","dimension","getIframesForDashboard","iframes","querySelector","children","cleanUpParams","debug","reducer","action","cleanedDashboard","newState","dashboardExists","validateDashboard","browsercheck","svg","flexbox","postMessage","createElementNS","createSVGRect","body","errorMessage","reduce","functionality","checkBrowserSupport","parsedFilters","parsedFilter","parameters","columnId","column_id","expression","parseFilter","parseFilters","index","findIndex","splice","activeFilters","changeFiltersMessage","row","processedRow","dataMessage","loadMessage","exportMessage","GET_DATA","contentWindow","getData","SET_AUTHORIZATION","setAuthorization","REFRESH_DATA","refreshData","EXPORT_DASHBOARD","format","warn","log","exportDashboard","RELOAD_DASHBOARD","reloadDashboard"],"mappings":"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","file":"static/js/15.27a6ae61.chunk.js","sourcesContent":["var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","import raf, {cancel} from 'raf'\nimport now from 'performance-now'\n\n/**  Copyright 2011, Joe Lambert.\n **  Free to use under the MIT license.\n **  http://www.opensource.org/licenses/mit-license.php\n **/\nexport const clearRequestTimeout = handle => {\n  cancel(handle.value)\n}\nexport const requestTimeout = (fn, delay) => {\n  const start = now(),\n    handle = {}\n\n  const loop = () => {\n    now() - start >= delay ? fn.call(null) : (handle.value = raf(loop))\n  }\n\n  handle.value = raf(loop)\n  return handle\n}\nexport default requestTimeout\n","import React from 'react'\nconst {useCallback, useEffect, useState, useRef} = React\nimport {requestTimeout, clearRequestTimeout} from '@essentials/request-timeout'\nexport const useDebounceCallback = (callback, wait = 100, leading = false) => {\n  const timeout = useRef(null) // cleans up pending timeouts when the function changes\n\n  function _ref() {\n    if (timeout.current !== null) {\n      clearRequestTimeout(timeout.current)\n      timeout.current = null\n    }\n  }\n\n  useEffect(() => _ref, [callback, wait])\n  return useCallback(\n    function(...args) {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      const self = this\n      if (timeout.current === null && leading) callback.apply(self, args)\n      else if (timeout.current !== null) clearRequestTimeout(timeout.current)\n      timeout.current = requestTimeout(() => {\n        timeout.current = null\n        !leading && callback.apply(self, args)\n      }, wait)\n    },\n    [callback, wait]\n  )\n}\nexport const useDebounce = (initialState, wait, leading) => {\n  const _ref_0 = useState(initialState)\n\n  const setState = _ref_0[1]\n  const state = _ref_0[0]\n  return [state, useDebounceCallback(setState, wait, leading)]\n}\nexport default useDebounce\n","import React from 'react'\nconst {useEffect} = React\nimport useDebounce from '@react-hook/debounce'\nconst emptyArr = []\nconst emptyObj = {}\n\nconst useSizeHook = (dim, initialValue, options = emptyObj) => {\n  const {wait, leading} = options\n  const [size, setDebouncedSize] = useDebounce(\n    typeof document === 'undefined'\n      ? initialValue\n      : document.documentElement[dim],\n    wait,\n    leading\n  )\n\n  function _ref() {\n    return setDebouncedSize(document.documentElement[dim])\n  }\n\n  useEffect(() => {\n    const setSize = _ref\n    window.addEventListener('resize', setSize)\n    window.addEventListener('orientationchange', setSize)\n    return () => {\n      window.removeEventListener('resize', setSize)\n      window.removeEventListener('orientationchange', setSize)\n    }\n  }, emptyArr)\n  return size\n}\n\nexport const useWindowHeight = (initialValue = 0, options) =>\n  useSizeHook('clientHeight', initialValue, options)\nexport const useWindowWidth = (initialValue = 0, options) =>\n  useSizeHook('clientWidth', initialValue, options)\nexport const useWindowSize = (initialWidth, initialHeight, options) => [\n  useWindowWidth(initialWidth, options),\n  useWindowHeight(initialHeight, options),\n]\nexport default useWindowSize\n","/** @license React v16.12.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?Symbol.for(\"react.suspense_list\"):\n60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.fundamental\"):60117,w=b?Symbol.for(\"react.responder\"):60118,x=b?Symbol.for(\"react.scope\"):60119;function y(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function z(a){return y(a)===m}\nexports.typeOf=y;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===v||a.$$typeof===w||a.$$typeof===x)};exports.isAsyncMode=function(a){return z(a)||y(a)===l};exports.isConcurrentMode=z;exports.isContextConsumer=function(a){return y(a)===k};exports.isContextProvider=function(a){return y(a)===h};\nexports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return y(a)===n};exports.isFragment=function(a){return y(a)===e};exports.isLazy=function(a){return y(a)===t};exports.isMemo=function(a){return y(a)===r};exports.isPortal=function(a){return y(a)===d};exports.isProfiler=function(a){return y(a)===g};exports.isStrictMode=function(a){return y(a)===f};exports.isSuspense=function(a){return y(a)===p};\n","/** @license React v16.12.0\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\nvar lowPriorityWarningWithoutStack = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarningWithoutStack = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (!condition) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(void 0, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarningWithoutStack$1 = lowPriorityWarningWithoutStack;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarningWithoutStack$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import CumulioDashboard from '../cumulio-dashboard';\n\nconst generateIframeUrl = (dashboard: CumulioDashboard, currentScreenmode?: string): string => {\n  const {\n    language,\n    loader,\n    screenmode,\n    authKey,\n    authToken,\n    chartDimensions,\n    version,\n    dashboardId,\n    chartId,\n    chartEmbedding,\n  } = dashboard;\n  const queryString: any = {};\n  const appServer = dashboard.appServer ? dashboard.appServer : '';\n\n  if (language !== 'auto') {\n    queryString.language = language;\n  }\n\n  if (loader) {\n    if (loader.background) {\n      queryString.ldrbg = loader.background.replace('#', '--');\n    }\n    if (loader.fontColor) {\n      queryString.ldrftclr = loader.fontColor.replace('#', '--');\n    }\n    if (loader.spinnerColor) {\n      queryString.ldrspclr = loader.spinnerColor.replace('#', '--');\n    }\n    if (loader.spinnerBackground) {\n      queryString.ldrspbg = loader.spinnerBackground.replace('#', '--');\n    }\n    if (loader.logoColor) {\n      queryString.ldrlgclr = loader.logoColor.replace('#', '--');\n    }\n  }\n\n  const specifiedScreenmode =\n    screenmode && ['mobile', 'tablet', 'desktop', 'largescreen', 'fixed'].indexOf(screenmode) > -1;\n  if (specifiedScreenmode && screenmode === currentScreenmode) {\n    queryString.screenmode = currentScreenmode;\n  }\n\n  if (authKey && authToken) {\n    queryString.key = authKey;\n    queryString.token = authToken;\n  }\n\n  if (chartEmbedding && chartDimensions) {\n    if (chartDimensions.width) {\n      queryString.width = chartDimensions.width;\n    }\n    if (chartDimensions.height) {\n      queryString.height = chartDimensions.height;\n    }\n  }\n\n  queryString.version = `react${version}`;\n\n  const joinedQueryString = Object.keys(queryString)\n    .map(key => {\n      return key + '=' + encodeURIComponent(queryString[key]);\n    })\n    .join('&');\n\n  let iframeUrl = '';\n  if (chartEmbedding) {\n    iframeUrl =\n      appServer + 'i/' + dashboardId + '/' + chartId + (joinedQueryString.length === 0 ? '' : '?' + joinedQueryString);\n  } else {\n    iframeUrl = appServer + 'i/' + dashboardId + (joinedQueryString.length === 0 ? '' : '?' + joinedQueryString);\n  }\n\n  return sanitizeUrl(iframeUrl);\n};\n\nconst sanitizeUrl = (url: string) => {\n  const invalidPrototcolRegex = /^(%20|\\s)*(javascript|data)/im;\n  const ctrlCharactersRegex = /[^\\x20-\\x7E]/gim;\n  const urlSchemeRegex = /^([^:]+):/gm;\n\n  if (!url) {\n    return 'about:blank';\n  }\n\n  const sanitizedUrl = url.replace(ctrlCharactersRegex, '').trim();\n  if (!isAbsoluteUrl(sanitizedUrl)) {\n    return sanitizedUrl;\n  }\n\n  const urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);\n  if (!urlSchemeParseResults) {\n    return sanitizedUrl;\n  }\n\n  const urlScheme = urlSchemeParseResults[0];\n  if (invalidPrototcolRegex.test(urlScheme)) {\n    return 'about:blank';\n  }\n\n  return sanitizedUrl;\n};\n\nconst isAbsoluteUrl = (url: string) => {\n  const r = new RegExp('^(?:[a-z]+:)?//', 'i');\n\n  return r.test(url);\n};\n\nexport default generateIframeUrl;\n","export interface IPublicProps {\n  dashboardId: string;\n  chartId?: string;\n  authKey?: string;\n  authToken?: string;\n  language?: string;\n  screenmode?: ScreenMode;\n  switchScreenModeOnResize?: boolean;\n  loaderBackground?: string;\n  loaderFontColor?: string;\n  loaderSpinnerColor?: string;\n  loaderSpinnerBackground?: string;\n  loaderLogoColor?: string;\n  debug?: boolean;\n}\n\nexport interface ICssStyles {\n  loaderSize: number;\n  borderWidth: number;\n  minHeight: number;\n}\n\nexport enum ScreenMode {\n  MOBILE = 'mobile',\n  TABLET = 'tablet',\n  DESKTOP = 'desktop',\n  LARGE_SCREEN = 'largeScreen',\n  FIXED = 'fixed',\n  AUTO = 'auto',\n}\n\nexport interface IError {\n  message?: string;\n  displayableMessage?: string;\n}\n\nexport const breakpoints = {\n  [ScreenMode.MOBILE]: [150, 767],\n  [ScreenMode.TABLET]: [768, 1199],\n  [ScreenMode.DESKTOP]: [1200, 1599],\n  [ScreenMode.LARGE_SCREEN]: [1600, 9999],\n  [ScreenMode.FIXED]: [],\n};\n\nexport enum MessageTypes {\n  INIT = 'init',\n  CHANGED_FILTERS = 'changedFilters',\n  DATA = 'data',\n  LOAD = 'load',\n  ERROR = 'error',\n  EXPORT = 'export',\n}\n\nexport interface IDashboardFilterParameter {\n  column_id: string;\n  dataset_id: string;\n}\n\nexport interface IDashboardFilter {\n  parameters?: IDashboardFilterParameter[];\n  expression?: string;\n  column_id?: string;\n  value?: string;\n}\n\nexport interface IDashboardParsedFilter {\n  expression: string;\n  columnId: string;\n  value: string;\n}\n\nexport interface IDashboardFilters {\n  dashboardId: string;\n  activeFilters: IDashboardParsedFilter[];\n}\n\nexport interface IAvailableScreenmode {\n  width: number[];\n  height: number[];\n  mode: string;\n}\n\nexport const Translations = {\n  initializing: {\n    en: 'Initializing...',\n    nl: 'Laden...',\n    fr: 'Chargement...',\n  },\n  errorDashboard: {\n    en: 'Oops, we could not load this dashboard!',\n    nl: 'Oeps, we konden het dashboard niet laden.',\n    fr: 'Le chargement a echou.',\n  },\n  errorChart: {\n    en: 'Oops, we could not load this chart!',\n    nl: 'Oeps, we konden de grafiek niet laden.',\n    fr: 'Le chargement a echou.',\n  },\n};\n","import uuid from 'uuid/v4';\nimport { IPublicProps, ScreenMode } from './cumulio-model';\nimport generateIframeUrl from './utils/generateIframeUrl';\n\nexport default class CumulioDashboard {\n  readonly appServer?: string = 'https://app.cumul.io/';\n  readonly host?: string = 'https://api.cumul.io';\n  readonly port?: string = '443';\n  readonly version?: string = '0.1.0';\n\n  public _id?: string;\n  public dashboardId?: string;\n  public container?: string;\n  public authKey?: string;\n  public authToken?: string;\n  public language?: string = 'auto';\n  public screenmode?: ScreenMode;\n  public switchScreenmodeOnResize?: boolean;\n  public chartId?: string;\n  public status?: string;\n  public chartDimensions?: {\n    width?: string;\n    height?: string;\n  } = {\n      width: 'auto',\n      height: 'auto',\n    };\n  public dimensions?: any;\n  public iframeDimensions?: any;\n  public listeners?: any[];\n  public loaded: boolean = false;\n  public loader?: {\n    background?: string;\n    fontColor?: string;\n    spinnerColor?: string;\n    spinnerBackground?: string;\n    logoColor?: string;\n  } = {\n      background: '#f9f9f9',\n      fontColor: '#5a5a5a',\n      spinnerColor: 'rgba(255, 165, 0, 0.7)',\n      spinnerBackground: 'rgba(169, 169, 169, 0.14)',\n      logoColor: 'orange',\n    };\n\n  constructor(dashboardId: string, container: string) {\n    this._id = uuid();\n    this.dashboardId = dashboardId;\n    this.container = container;\n  }\n\n  extendWithComponentProps(props: IPublicProps) {\n    this.loader = {\n      background: props.loaderBackground ? props.loaderBackground : this.loader.background,\n      fontColor: props.loaderFontColor ? props.loaderFontColor : this.loader.fontColor,\n      spinnerColor: props.loaderSpinnerColor ? props.loaderSpinnerColor : this.loader.spinnerColor,\n      spinnerBackground: props.loaderSpinnerBackground ? props.loaderSpinnerBackground : this.loader.spinnerBackground,\n      logoColor: props.loaderLogoColor ? props.loaderLogoColor : this.loader.logoColor,\n    };\n\n    for (const prop in props) {\n      this[prop] = props[prop];\n    }\n  }\n\n  get chartEmbedding() {\n    return this.chartId ? true : false;\n  }\n\n  getIframeUrl(currentMode) {\n    return generateIframeUrl(this, currentMode);\n  }\n}\n","export enum Actions {\n  VALIDATE_DASHBOARD = 'VALIDATE_DASHBOARD',\n  SET_CURRENT_SCREEN_MODE = 'SET_CURRENT_SCREEN_MODE',\n  SET_CONTAINER_WIDTH = 'SET_CONTAINER_WIDTH',\n  GET_DATA = 'GET_DATA',\n  SET_AUTHORIZATION = 'SET_AUTHORIZATION',\n  REFRESH_DATA = 'REFRESH_DATA',\n  EXPORT_DASHBOARD = 'EXPORT_DASHBOARD',\n  RELOAD_DASHBOARD = 'RELOAD_DASHBOARD',\n  CHECK_BROWSER = 'CHECK_BROWSER',\n  CALCULATE_DIMENSIONS = 'CALCULATE_DIMENSIONS',\n  INIT = 'INIT',\n  CHANGE_FILTERS = 'CHANGE_FILTERS',\n  DATA = 'DATA',\n  LOAD = 'LOAD',\n  ERROR = 'ERROR',\n  EXPORT = 'EXPORT',\n}\n","import CumulioDashboard from '../cumulio-dashboard';\nimport { IDashboardFilter, ScreenMode } from '../cumulio-model';\nimport { Actions } from './cumulio.types';\n\nexport type Dimensions = {\n  [key in ScreenMode]: number[];\n};\n\nexport interface IValidateDashboardPayload {\n  dashboard: CumulioDashboard;\n}\n\nexport const validateDashboardAction = (payload: IValidateDashboardPayload) => {\n  return {\n    type: Actions.VALIDATE_DASHBOARD,\n    payload,\n  };\n};\n\nexport const checkBrowserAction = () => {\n  return {\n    type: Actions.CHECK_BROWSER,\n  };\n};\n\nexport interface ICalculateDimensionsPayload {\n  dashboard: CumulioDashboard;\n  currentScreenmode: string;\n  dimensions?: Dimensions;\n}\n\nexport const calculateDimensionsAction = (payload: ICalculateDimensionsPayload) => {\n  return {\n    type: Actions.CALCULATE_DIMENSIONS,\n    payload,\n  };\n};\n\nexport interface IInitPayload {\n  replaceOldDashboards: boolean;\n}\n\nexport const initAction = (payload: IInitPayload) => {\n  return {\n    type: Actions.INIT,\n    payload,\n  };\n};\n\nexport interface IChangeFiltersPayload {\n  dashboardId: string;\n  filters: IDashboardFilter[];\n}\n\nexport const changeFiltersAction = (payload: IChangeFiltersPayload) => {\n  return {\n    type: Actions.CHANGE_FILTERS,\n    payload,\n  };\n};\n\nexport interface IDataPayload {\n  rawData: any;\n}\n\nexport const dataAction = (payload: IDataPayload) => {\n  return {\n    type: Actions.DATA,\n    payload,\n  };\n};\n\nexport interface ILoadPayload {\n  dashboardId: string;\n  language: string;\n  dimensions: Dimensions;\n}\n\nexport const loadAction = (payload: ILoadPayload) => {\n  return {\n    type: Actions.LOAD,\n    payload,\n  };\n};\n\nexport interface IErrorPayload {\n  dashboardId: string;\n}\n\nexport const errorAction = (payload: IErrorPayload) => {\n  return {\n    type: Actions.ERROR,\n    payload,\n  };\n};\n\nexport interface IExportPayload {\n  dashboardId: string;\n  error?: {\n    msg?: string;\n  };\n}\n\nexport const exportAction = (payload: IExportPayload) => {\n  return {\n    type: Actions.EXPORT,\n    payload,\n  };\n};\n\nexport interface ISetCurrentscreenModePayload {\n  mode: string;\n}\n\nexport const setCurrentscreenModeAction = (payload: ISetCurrentscreenModePayload) => {\n  return {\n    type: Actions.SET_CURRENT_SCREEN_MODE,\n    payload,\n  };\n};\n\nexport interface ISetContainerWidthPayload {\n  width: number;\n}\n\nexport const setContainerWidthAction = (payload: ISetContainerWidthPayload) => {\n  return {\n    type: Actions.SET_CONTAINER_WIDTH,\n    payload,\n  };\n};\n\nexport interface IGetDataPayload {\n  chartId: string;\n  dashboard?: {\n    dashboardId?: string;\n    container?: string;\n  };\n}\n\nexport const getDataAction = (payload: IGetDataPayload) => {\n  return {\n    type: Actions.GET_DATA,\n    payload,\n  };\n};\n\nexport interface ISetAuthorizationPayload {\n  authKey: string;\n  authToken: string;\n  dashboard?: {\n    dashboardId?: string;\n    container?: string;\n  };\n}\n\nexport const setAuthorizationAction = (payload: ISetAuthorizationPayload) => {\n  return {\n    type: Actions.SET_AUTHORIZATION,\n    payload,\n  };\n};\n\nexport interface IRefreshDataPayload {\n  id?: string;\n}\n\nexport const refreshDataAction = (payload: IRefreshDataPayload = {}) => {\n  return {\n    type: Actions.REFRESH_DATA,\n    payload,\n  };\n};\n\nexport interface IExportDashboardPayload {\n  container: string;\n  format?: string;\n}\n\nexport const exportDashboardAction = (payload: IExportDashboardPayload) => {\n  return {\n    type: Actions.EXPORT_DASHBOARD,\n    payload,\n  };\n};\n\nexport const reloadDashboardAction = () => {\n  return {\n    type: Actions.RELOAD_DASHBOARD,\n  };\n};\n","import { createContext, Dispatch, useContext } from 'react';\nimport { IState } from '../cumulio.reducer';\n\nexport const CumulioContext = createContext(null);\n\ninterface IContext {\n  state: IState;\n  dispatch: Dispatch<any>;\n}\n\nexport function useCumulio(): IContext {\n  const context = useContext(CumulioContext);\n\n  if (!context) {\n    throw new Error('useCumulio must be used within a CumulioProvider');\n  }\n\n  return context;\n}\n","import useEventListener from '@use-it/event-listener';\nimport { MessageTypes } from '../../cumulio-model';\nimport { changeFiltersAction, dataAction, errorAction, exportAction, initAction, loadAction } from '../cumulio.actions';\nimport { useCumulio } from './useCumulio';\n\nconst useMessage = () => {\n  const { state, dispatch } = useCumulio();\n\n  useEventListener('message', (message: any) => {\n    const { data } = message;\n\n    if (!data) {\n      return;\n    }\n\n    switch (data.type) {\n      case MessageTypes.INIT:\n        dispatch(initAction({ replaceOldDashboards: true }));\n        break;\n      case MessageTypes.CHANGED_FILTERS:\n        const filters = data.filters.filter(\n          activeFilter => ['itemFilter', 'global'].indexOf(activeFilter.properties.origin) === -1,\n        );\n        dispatch(changeFiltersAction({ dashboardId: data.dashboard, filters }));\n        break;\n      case MessageTypes.DATA:\n        dispatch(dataAction({ rawData: data.data }));\n        break;\n      case MessageTypes.LOAD:\n        dispatch(loadAction({ dashboardId: data.dashboard, dimensions: data.dimensions, language: data.language }));\n        break;\n      case MessageTypes.ERROR:\n        dispatch(loadAction({ dashboardId: data.dashboard, dimensions: data.dimensions, language: data.language }));\n        dispatch(errorAction({ dashboardId: data.dashboard }));\n        break;\n      case MessageTypes.EXPORT:\n        dispatch(loadAction({ dashboardId: data.dashboard, dimensions: data.dimensions, language: data.language }));\n        dispatch(exportAction({ dashboardId: data.dashboard, error: data.error ? data.error : null }));\n        break;\n      default:\n        break;\n    }\n  });\n};\n\nexport default useMessage;\n","import{useRef as n,useEffect as t}from\"react\";export default function(e,r,i){void 0===i&&(i=global);var o=n();t(function(){o.current=r},[r]),t(function(){if(i&&i.addEventListener){var n=function(n){return o.current(n)};return i.addEventListener(e,n),function(){i.removeEventListener(e,n)}}},[e,i])}\n","import { useWindowSize } from '@react-hook/window-size';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from \"react\";\nimport uuid from 'uuid/v4';\nimport \"./cumulio-component.scss\";\nimport CumulioDashboard from './cumulio-dashboard';\nimport { breakpoints, ICssStyles, IError, IPublicProps, ScreenMode, Translations } from './cumulio-model';\nimport { calculateDimensionsAction, checkBrowserAction, setContainerWidthAction, setCurrentscreenModeAction, validateDashboardAction } from './store/cumulio.actions';\nimport { useCumulio } from './store/hooks/useCumulio';\nimport useMessage from './store/hooks/useMessage';\n\nconst CumulioComponent = (props: IPublicProps) => {\n  const { switchScreenModeOnResize } = props;\n\n  // Refs\n  const containerRef = useRef(null);\n\n  const [windowWidth, windowHeight] = useWindowSize();\n\n  const [iframeSrc, setIframeSrc] = useState(null);\n  let cssOptions: ICssStyles = {\n    borderWidth: 3,\n    loaderSize: 32,\n    minHeight: 400,\n  };\n\n  useMessage();\n\n  const [loadingMessage, setLoadingMessage] = useState('');\n\n  const { state, dispatch } = useCumulio();\n\n  const containerId = `dashboard-${uuid()}`;\n  const paramsId = uuid();\n  const iframeId = 'cio-dashboard-' + paramsId;\n\n  let dashboard = createInitialDashboard(props, containerId);\n\n  const { error, dashboards } = state;\n  const validatedDashboard = dashboards.find(d => d.dashboardId === dashboard.dashboardId);\n  if (validatedDashboard) {\n    dashboard = validatedDashboard;\n  }\n\n  const { chartEmbedding, loader, loaded, chartDimensions } = dashboard;\n\n  useEffect(() => {\n    dispatch(checkBrowserAction());\n\n    dispatch(validateDashboardAction({ dashboard }));\n\n    buildLoadingMessage();\n\n    setIframeSrc(dashboard.getIframeUrl(state.currentScreenmode));\n\n    dispatch(setContainerWidthAction({ width: containerRef.current.offsetWidth }));\n\n    getCurrentScreenmode();\n\n  }, [props.dashboardId]);\n\n  // Dimensions should not be calculated on initial width, it's done in the load event.\n  const isFirstRun = useRef(true);\n\n  useEffect(() => {\n    dispatch(setContainerWidthAction({ width: containerRef.current.offsetWidth }));\n\n    if (switchScreenModeOnResize) {\n      getCurrentScreenmode();\n    }\n\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n\n    dispatch(calculateDimensionsAction({ dashboard, dimensions: dashboard.dimensions, currentScreenmode: state.currentScreenmode }));\n\n  }, [windowWidth, windowHeight]);\n\n  useEffect(() => {\n    if (dashboard.iframeDimensions !== undefined) {\n      const dashboardElements = document.getElementsByClassName('cio-embed-dashboard') as any;\n      for (const iframe of dashboardElements) {\n        if (iframe.src.includes(dashboard.dashboardId)) {\n          iframe.style.height = dashboard.iframeDimensions.height;\n          iframe.style.width = dashboard.iframeDimensions.width;\n        }\n      }\n    }\n\n  }, [dashboard.iframeDimensions]);\n\n  if (error) {\n    handleError(error, dashboard);\n  }\n\n  // Initial screenmode -> set currentscreenmode\n  const getCurrentScreenmode = () => {\n    Object.keys(breakpoints).forEach(screenmode => {\n      const breakpoint = breakpoints[screenmode];\n      if (breakpoint[0] <= windowWidth && windowWidth <= breakpoint[1]) {\n        dispatch(setCurrentscreenModeAction({ mode: screenmode }));\n      }\n    });\n  }\n\n  const buildLoadingMessage = () => {\n    let msg = \"\";\n\n    if (dashboard.language in Object.keys(Translations.initializing)) {\n      msg = Translations.initializing[dashboard.language];\n    } else {\n      msg = Translations.initializing.en;\n    }\n\n    setLoadingMessage(msg);\n  }\n\n  const backgroundStyles = () => {\n    if (loader.background) {\n      return {\n        background: dashboard.loader.background\n      };\n    }\n  }\n\n  const containerLoaderStyles = () => {\n    const chartHeightDefined = chartEmbedding && chartDimensions.height !== 'auto';\n\n    return {\n      display: loaded ? \"none\" : \"\",\n      height: (chartHeightDefined ? chartDimensions.height : cssOptions.minHeight) + 'px',\n    };\n  }\n\n  const loaderStyles = () => {\n    if (chartEmbedding) {\n      cssOptions = {\n        borderWidth: 4,\n        loaderSize: 24,\n        minHeight: 200\n      };\n\n      const chartWidthDefined = chartDimensions.width !== 'auto';\n      const chartHeightDefined = chartDimensions.height !== 'auto';\n\n      return {\n        background: loader.background,\n        height: (chartHeightDefined ? chartDimensions.height : '200') + 'px',\n        minHeight: chartHeightDefined ? '' : '200px',\n        width: chartWidthDefined ? chartDimensions.width + 'px;' : '100%',\n      };\n    }\n\n    return {\n      background: loader.background\n    };\n  }\n\n  const ciolcStyles = () => {\n    const { chartId } = dashboard;\n    const chartHeightDefined = chartEmbedding && chartDimensions.height !== 'auto';\n\n    let padding = 16;\n    if (chartId) {\n      if (chartHeightDefined) {\n        padding += (parseInt(chartDimensions.height, 10) - cssOptions.loaderSize - 32) / 2;\n      }\n      else {\n        padding += (cssOptions.minHeight - cssOptions.loaderSize - 32) / 2;\n      }\n    } else {\n      padding += 128;\n    }\n\n    return {\n      padding: `${padding}px`\n    }\n  }\n\n  const cioplStyles = () => {\n    return {\n      borderBottom: cssOptions.borderWidth + 'px solid ' + loader.spinnerBackground,\n      borderLeft: cssOptions.borderWidth + 'px solid ' + loader.spinnerBackground,\n      borderRight: cssOptions.borderWidth + 'px solid ' + loader.spinnerColor,\n      borderTop: cssOptions.borderWidth + 'px solid ' + loader.spinnerColor,\n      height: cssOptions.loaderSize + 'px',\n      width: cssOptions.loaderSize + 'px',\n    };\n  }\n\n  const ciolmStyles = () => {\n    return {\n      color: loader.fontColor\n    }\n  }\n\n  const iframeStyles = () => {\n    const styleObject: any = { opacity: 0, height: '400px' };\n    if (chartEmbedding) {\n      if (chartDimensions.height !== 'auto') {\n        styleObject.height = chartDimensions.height + 'px';\n      }\n      else {\n        styleObject.height = '200px';\n      }\n\n      // Standard Width\n      if (chartDimensions.width !== 'auto') {\n        styleObject.width = chartDimensions.width + 'px';\n      }\n      else {\n        styleObject.width = '100%';\n      }\n    }\n\n    // If status loaded, show iframe\n    if (loaded) {\n      styleObject.opacity = 1;\n    }\n\n    if (error) {\n      styleObject.width = '100%';\n      styleObject.height = '400px';\n    }\n\n    return styleObject;\n  }\n\n  return (\n    <>\n      <div id={containerId} className=\"dashboard-container\" style={backgroundStyles()} ref={containerRef}>\n        {!error && (\n          <div className=\"cio-container-loader\" id={'cio-container-loader-' + paramsId} style={containerLoaderStyles()}>\n            <div className=\"cio-loader\" id={'cio-loader-' + paramsId} style={loaderStyles()}>\n              <div className=\"cio-lc\" style={ciolcStyles()}>\n                <div className={'cio-pl' + (chartEmbedding ? ' chartEmbedding' : '')} style={cioplStyles()}></div>\n                {!chartEmbedding && (<div className=\"cio-lm\" style={ciolmStyles()}>{loadingMessage}</div>)}\n              </div>\n            </div>\n          </div>\n        )}\n        <iframe\n          className=\"cio-embed-dashboard\"\n          id={iframeId}\n          name={iframeId}\n          src={iframeSrc}\n          style={iframeStyles()}\n        />\n      </div>\n      {error && error.displayableMessage && (<div id={'cio-error-' + paramsId}><h3 className=\"cio-error\">{error.displayableMessage}</h3></div>)}\n    </>\n  );\n};\n\nconst createInitialDashboard = (props: IPublicProps, containerId: string): CumulioDashboard => {\n  const dashboard = new CumulioDashboard(props.dashboardId, `#${containerId}`);\n  dashboard.extendWithComponentProps(props);\n\n  return dashboard;\n}\n\nconst handleError = (error: IError, dashboard: CumulioDashboard) => {\n  let msg = 'The dashboard encountered an error';\n  if (dashboard.dashboardId === 'string') { msg += ' for dashboard with id ' + dashboard.dashboardId; }\n  if (dashboard.container === 'string') { msg += ' in container ' + dashboard.container; }\n  if (error && error.message) {\n    msg += ':\\n' + error.message;\n  }\n\n  error && console.error(msg);\n}\n\nCumulioComponent.defaultProps = {\n  language: \"auto\",\n  screenmode: ScreenMode.AUTO,\n  switchScreenmodeOnResize: true\n};\n\nCumulioComponent.propTypes = {\n  screenmode: PropTypes.oneOf(Object.values(ScreenMode)),\n};\n\nexport default CumulioComponent;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import CumulioDashboard from '../../cumulio-dashboard';\nimport { IState } from '../cumulio.reducer';\n\nconst setStatus = (state: IState, { dashboard, status }: { dashboard: CumulioDashboard; status: string }): IState => {\n  dashboard.status = status;\n\n  return {\n    ...state,\n    filters: [],\n    dashboards: state.dashboards.map(existingDashboard => {\n      if (existingDashboard.dashboardId === dashboard.dashboardId) {\n        return dashboard;\n      }\n\n      return existingDashboard;\n    }),\n  };\n};\n\nexport default setStatus;\n","import { breakpoints, IAvailableScreenmode, ScreenMode } from '../../cumulio-model';\nimport { Dimensions, ICalculateDimensionsPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport setStatus from './setStatus';\n\nconst calculateDashboardDimensions = (\n  state: IState,\n  { dashboard, currentScreenmode, dimensions }: ICalculateDimensionsPayload,\n): IState => {\n  const { containerWidth } = state;\n\n  if (!dashboard.chartDimensions || !dimensions) {\n    throw new Error(`No valid dimensions given for dashboard ${dashboard.dashboardId}`);\n  }\n\n  dashboard.dimensions = dimensions;\n\n  let currentWidth, currentHeight, currentMode;\n\n  const calculateScreenModeDimensions = (screenMode: IAvailableScreenmode) => {\n    if (\n      dashboard.chartEmbedding &&\n      dashboard.chartDimensions.width !== 'auto' &&\n      dashboard.chartDimensions.height === 'auto'\n    ) {\n      if (screenMode.width[0] < parseInt(dashboard.chartDimensions.width)) {\n        currentMode = screenMode.mode;\n        currentWidth = parseInt(dashboard.chartDimensions.width, 10);\n        currentHeight = dimensions[currentMode][1];\n      }\n    } else {\n      if (screenMode.width[0] < containerWidth) {\n        currentMode = screenMode.mode;\n        if (dashboard.chartEmbedding) {\n          if (\n            dashboard.chartDimensions &&\n            dashboard.chartDimensions.width &&\n            dashboard.chartDimensions.width !== 'auto'\n          ) {\n            currentWidth = parseInt(dashboard.chartDimensions.width, 10);\n          } else {\n            currentWidth = Math.min(containerWidth, screenMode.width[1]);\n          }\n          if (\n            dashboard.chartDimensions &&\n            dashboard.chartDimensions.height &&\n            dashboard.chartDimensions.height !== 'auto'\n          ) {\n            currentHeight = parseInt(dashboard.chartDimensions.height, 10);\n          } else {\n            currentHeight = dimensions[currentMode][1];\n          }\n          if (\n            dashboard.chartDimensions &&\n            dashboard.chartDimensions.width !== 'auto' &&\n            dashboard.chartDimensions.height === 'auto'\n          ) {\n            currentWidth = parseInt(dashboard.chartDimensions.width, 10);\n            currentHeight = dimensions[currentMode][1];\n          }\n        } else {\n          // Normal dashboard embedding\n          currentWidth = Math.max(Math.min(screenMode.width[1], containerWidth), screenMode.width[0]);\n          currentHeight = screenMode.height;\n        }\n      }\n    }\n  };\n\n  // If screen may not be resized (and currentscreenmode exists) then set dashboard screenmode to currentscreenmode\n  // So if switch screenmode on resize is true => screenmode will be 'auto'\n  if (!dashboard.switchScreenmodeOnResize && currentScreenmode) {\n    dashboard.screenmode = currentScreenmode as ScreenMode;\n  }\n\n  let availableScreenModes = [];\n\n  if (Object.keys(dimensions) && Object.keys(dimensions)[0] === ScreenMode.FIXED) {\n    currentMode = ScreenMode.FIXED;\n    currentWidth = dimensions.fixed[0];\n    currentHeight = dimensions.fixed[1];\n  } else {\n    if (dashboard.chartEmbedding) {\n      dimensions = setChartEmbeddingAvailableScreenmodes(dimensions);\n    }\n\n    availableScreenModes = setAvailableScreenModes(dimensions);\n\n    // Check if specified is in available -> if not set to auto\n    // Check if the screenmode in cumulio exists, if it doesn't exist, set the screenmode to auto\n    if (availableScreenModes.map(screenMode => screenMode.mode).indexOf(dashboard.screenmode) === -1) {\n      dashboard.screenmode = ScreenMode.AUTO;\n    }\n\n    if (dashboard.screenmode === ScreenMode.AUTO) {\n      availableScreenModes.forEach(screenmode => {\n        calculateScreenModeDimensions(screenmode);\n      });\n    }\n    // Set to screenmode and check if width fits in available width\n    else {\n      const chosenMode = availableScreenModes.find(screenMode => screenMode.mode === dashboard.screenmode);\n      currentMode = dashboard.screenmode;\n      currentWidth = Math.max(Math.min(chosenMode.width[1], containerWidth), chosenMode.width[0]);\n      currentHeight = chosenMode.height;\n\n      if (dashboard.chartEmbedding) {\n        if (\n          dashboard.chartDimensions &&\n          dashboard.chartDimensions.width &&\n          dashboard.chartDimensions.width !== 'auto'\n        ) {\n          currentWidth = parseInt(dashboard.chartDimensions.width, 10);\n        }\n        if (\n          dashboard.chartDimensions &&\n          dashboard.chartDimensions.height &&\n          dashboard.chartDimensions.height !== 'auto'\n        ) {\n          currentHeight = parseInt(dashboard.chartDimensions.height, 10);\n        }\n      }\n    }\n\n    // If no available mode is found, take the lowest one, only when available is not empty\n    if (!currentMode && availableScreenModes.length !== 0) {\n      currentMode = availableScreenModes[0].mode;\n      currentWidth = availableScreenModes[0].width[0];\n      currentHeight = availableScreenModes[0].height;\n    }\n  }\n\n  let iframeHeight = currentHeight + 'px';\n  let iframeWidth = currentWidth + 'px';\n\n  // Change again if chartembedding\n  if (dashboard.chartEmbedding && dashboard.chartDimensions) {\n    iframeWidth = dashboard.chartDimensions.width + 'px';\n    iframeHeight = dashboard.chartDimensions.height + 'px';\n  }\n\n  dashboard.loaded = true;\n  dashboard.iframeDimensions = {\n    width: iframeWidth,\n    height: iframeHeight,\n  };\n\n  state = setStatus(state, { dashboard, status: 'loaded' });\n\n  return {\n    ...state,\n    currentScreenmode: currentMode,\n    dashboards: state.dashboards.map(existingDashboard => {\n      if (existingDashboard.dashboardId === dashboard.dashboardId) {\n        return dashboard;\n      }\n\n      return existingDashboard;\n    }),\n  };\n};\n\nconst setChartEmbeddingAvailableScreenmodes = (dimensions: Dimensions) => {\n  let firstAvailableScreenMode = Object.keys(dimensions)[0];\n\n  Object.values(ScreenMode).forEach(screenMode => {\n    if (!['fixed', 'auto'].includes(screenMode)) {\n      const availableScreenMode = screenMode in Object.keys(dimensions);\n      if (!availableScreenMode) {\n        dimensions[screenMode] = dimensions[firstAvailableScreenMode];\n      } else {\n        firstAvailableScreenMode = screenMode;\n      }\n    }\n  });\n\n  return dimensions;\n};\n\nconst setAvailableScreenModes = (dimensions: Dimensions): IAvailableScreenmode[] => {\n  return Object.keys(dimensions).map(dimension => {\n    let screenmode = { width: [], height: [], mode: dimension };\n\n    if (Object.values(ScreenMode).includes(dimension as ScreenMode)) {\n      Object.keys(breakpoints).forEach(breakpoint => {\n        if (breakpoint === dimension) {\n          screenmode.width = breakpoints[breakpoint];\n        }\n      });\n      screenmode.height = dimensions[dimension][1] || 50;\n    }\n\n    return screenmode;\n  });\n};\n\nexport default calculateDashboardDimensions;\n","const getIframesForDashboard = dashboard => {\n  const iframes = [];\n  let dashboards: any = document.getElementsByClassName('cio-embed-dashboard');\n\n  if (dashboard.container) {\n    const container: HTMLElement = document.querySelector('.' + dashboard.container);\n\n    if (!container) {\n      throw new Error(`Container cannot be found with class selector ${dashboard.container}`);\n    }\n\n    const children: any = container.children;\n    for (const child of children) {\n      dashboards = child.getElementsByClassName('cio-embed-dashboard');\n      for (const iframe of dashboards) {\n        if (dashboard.dashboardId) {\n          if (iframe.src.includes(dashboard.dashboardId)) {\n            iframes.push(iframe);\n          }\n        } else {\n          iframes.push(iframe);\n        }\n      }\n    }\n  } else {\n    for (const iframe of dashboards) {\n      if (dashboard.dashboardId) {\n        if (iframe && iframe.src.includes(dashboard.dashboardId)) {\n          iframes.push(iframe);\n        }\n      } else {\n        iframes.push(iframe);\n      }\n    }\n  }\n\n  return iframes;\n};\n\nexport default getIframesForDashboard;\n","import CumulioDashboard from '../../cumulio-dashboard';\nimport { IState } from '../cumulio.reducer';\n\nconst validateDashboard = (state: IState, dashboard: CumulioDashboard): IState => {\n  const cleanedDashboard = cleanUpParams(dashboard);\n\n  let { screenmode, chartDimensions, switchScreenmodeOnResize } = cleanedDashboard;\n\n  if (screenmode && screenmode !== 'auto') {\n    switchScreenmodeOnResize = false;\n  }\n  if (chartDimensions.width !== 'auto') {\n    chartDimensions.width = (chartDimensions.width + '').replace('px', '') || 'auto';\n  }\n  if (chartDimensions.height !== 'auto') {\n    chartDimensions.height = (chartDimensions.height + '').replace('px', '') || 'auto';\n  }\n\n  const newState = Object.assign({}, state);\n  let dashboardExists = false;\n  newState.dashboards &&\n    newState.dashboards.forEach(d => {\n      // Dashboard exists -- Update Dashboard\n      if (cleanedDashboard.dashboardId === d.dashboardId) {\n        d = cleanedDashboard;\n        dashboardExists = true;\n      }\n    });\n\n  if (!dashboardExists) {\n    if (newState.replaceOldDashboards === true) {\n      newState.dashboards = [];\n      newState.replaceOldDashboards = false;\n    }\n\n    newState.dashboards.push(cleanedDashboard);\n  }\n\n  return newState;\n};\n\nconst cleanUpParams = (properties): CumulioDashboard => {\n  for (var prop in properties) {\n    if (properties[prop] === null || properties[prop] === undefined) {\n      delete properties[prop];\n    }\n    if (typeof properties[prop] === 'object') {\n      properties[prop] = cleanUpParams(properties[prop]);\n    }\n  }\n\n  return properties;\n};\n\nexport default validateDashboard;\n","import CumulioDashboard from '../cumulio-dashboard';\nimport { IDashboardFilters, IError, ScreenMode } from '../cumulio-model';\nimport { Actions } from './cumulio.types';\nimport calculateDashboardDimensions from './epics/calculateDashboardDimensions';\nimport checkBrowserSupport from './epics/checkBrowserSupport';\nimport getData from './epics/getData';\nimport refreshData from './epics/refreshData';\nimport setAuthorization from './epics/setAuthorization';\nimport validateDashboard from './epics/validateDashboard';\nimport changeFiltersMessage from './messages/changeFiltersMessage';\nimport dataMessage from './messages/dataMessage';\nimport errorMessage from './messages/errorMessage';\nimport exportMessage from './messages/exportMessage';\nimport loadMessage from './messages/loadMessage';\nimport exportDashboard from './epics/exportDashboard';\nimport reloadDashboard from './epics/reloadDashboard';\n\nexport interface IState {\n  dashboards?: CumulioDashboard[];\n  error?: IError;\n  replaceOldDashboards: boolean;\n  containerWidth: number;\n  currentScreenmode?: ScreenMode;\n  filters?: IDashboardFilters[];\n  data: object[];\n  debug: boolean;\n}\n\nexport const initialState: IState = {\n  dashboards: [],\n  filters: [],\n  data: [],\n  containerWidth: null,\n  replaceOldDashboards: false,\n  debug: false,\n};\n\nexport function reducer(state: IState, action): IState {\n  try {\n    switch (action.type) {\n      case Actions.VALIDATE_DASHBOARD:\n        return validateDashboard(state, action.payload.dashboard);\n      case Actions.CHECK_BROWSER:\n        return checkBrowserSupport(state);\n      case Actions.SET_CURRENT_SCREEN_MODE:\n        return {\n          ...state,\n          currentScreenmode: action.payload.mode,\n        };\n      case Actions.SET_CONTAINER_WIDTH:\n        return {\n          ...state,\n          containerWidth: action.payload.width,\n        };\n      case Actions.INIT:\n        return {\n          ...state,\n          replaceOldDashboards: action.payload.replaceOldDashboards,\n        };\n      case Actions.CALCULATE_DIMENSIONS:\n        return calculateDashboardDimensions(state, action.payload);\n      case Actions.CHANGE_FILTERS:\n        return changeFiltersMessage(state, action.payload);\n      case Actions.DATA:\n        return dataMessage(state, action.payload);\n      case Actions.LOAD:\n        return loadMessage(state, action.payload);\n      case Actions.ERROR:\n        return errorMessage(state, action.payload);\n      case Actions.EXPORT:\n        return exportMessage(state, action.payload);\n      case Actions.GET_DATA:\n        return getData(state, action.payload);\n      case Actions.SET_AUTHORIZATION:\n        return setAuthorization(state, action.payload);\n      case Actions.REFRESH_DATA:\n        return refreshData(state, action.payload);\n      case Actions.EXPORT_DASHBOARD:\n        return exportDashboard(state, action.payload);\n      case Actions.RELOAD_DASHBOARD:\n        return reloadDashboard(state);\n      default:\n        throw new Error();\n    }\n  } catch (err) {\n    return {\n      ...state,\n      error: {\n        message: err.message,\n      },\n    };\n  }\n}\n","import { IState } from '../cumulio.reducer';\n\nconst checkBrowserSupport = (state: IState): IState => {\n  const browsercheck = { svg: false, flexbox: false, postMessage: false };\n\n  browsercheck.svg = !!(\n    'createElementNS' in document && document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect\n  );\n\n  const doc = document.body || document.documentElement;\n  const style = doc.style;\n  browsercheck.flexbox = !!('flexWrap' in style) || 'WebkitFlexWrap' in style || 'msFlexWrap' in style;\n\n  browsercheck.postMessage = !!window.postMessage;\n\n  const errorMessage = ['svg', 'flexbox', 'postMessage'].reduce((message, functionality) => {\n    if (!browsercheck[functionality]) {\n      message += 'Your browser does not support: ' + functionality + '\\n';\n    }\n\n    return message;\n  }, '');\n\n  if (!errorMessage || state.debug) {\n    return state;\n  }\n\n  return {\n    ...state,\n    error: {\n      message: errorMessage,\n      displayableMessage: 'Browser not supported',\n    },\n  };\n};\n\nexport default checkBrowserSupport;\n","import { IDashboardFilter, IDashboardParsedFilter } from '../../cumulio-model';\nimport { IChangeFiltersPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\n\nconst parseFilter = (filter: IDashboardFilter): IDashboardParsedFilter => {\n  let parsedFilter: any = {};\n\n  if (filter.parameters) {\n    parsedFilter = { columnId: filter.parameters[0].column_id, value: filter.parameters[1] };\n  } else {\n    parsedFilter = { columnId: filter.column_id, value: filter.value };\n  }\n\n  switch (filter.expression) {\n    case '? between ?':\n      parsedFilter.expression = 'between';\n      break;\n    case '? > ?':\n      parsedFilter.expression = 'greater than';\n      break;\n    case '? >= ?':\n      parsedFilter.expression = 'greater than or equal';\n      break;\n    case '? <= ?':\n      parsedFilter.expression = 'smaller than or equal';\n      break;\n    case '? < ?':\n      parsedFilter.expression = 'smaller than';\n      break;\n    case '? in ?':\n      parsedFilter.expression = 'is in';\n      break;\n    case '? = ?':\n      parsedFilter.expression = 'equals';\n      break;\n    default:\n      parsedFilter.expression = 'equals';\n  }\n\n  return parsedFilter;\n};\n\nconst parseFilters = (filters: IDashboardFilter[]) => {\n  return filters.map(filter => parseFilter(filter));\n};\n\nconst changeFiltersMessage = (state: IState, { dashboardId, filters }: IChangeFiltersPayload): IState => {\n  const parsedFilters = parseFilters(filters);\n\n  const newState = Object.assign({}, state);\n  const index = newState.filters.findIndex(filter => filter.dashboardId === dashboardId);\n\n  if (filters.length === 0) {\n    newState.filters.splice(index, 1);\n\n    return newState;\n  }\n\n  if (index > -1) {\n    newState.filters[index].activeFilters = parsedFilters;\n  } else {\n    newState.filters.push({\n      activeFilters: parsedFilters,\n      dashboardId,\n    });\n  }\n\n  return newState;\n};\n\nexport default changeFiltersMessage;\n","import { IDataPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\n\nconst dataMessage = (state: IState, { rawData }: IDataPayload): IState => {\n  const data: any[] = [];\n\n  rawData.forEach(row => {\n    const processedRow: any[] = [];\n    row.forEach(value => {\n      if (typeof value === 'object') {\n        processedRow.push(value.id);\n      } else {\n        processedRow.push(value);\n      }\n    });\n    data.push(processedRow);\n  });\n\n  return {\n    ...state,\n    data,\n  };\n};\n\nexport default dataMessage;\n","import { ILoadPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport calculateDashboardDimensions from '../epics/calculateDashboardDimensions';\n\nconst loadMessage = (state: IState, { dashboardId, dimensions }: ILoadPayload): IState => {\n  const dashboard = state.dashboards.find(dashboard => dashboard.dashboardId === dashboardId);\n\n  if (!dimensions) {\n    return state;\n  }\n\n  try {\n    return calculateDashboardDimensions(state, { dashboard, currentScreenmode: state.currentScreenmode, dimensions });\n  } catch (err) {\n    if (!dashboard) {\n      return state;\n    }\n\n    dashboard.loaded = true;\n\n    return {\n      ...state,\n      error: {\n        message: err.message,\n      },\n      dashboards: state.dashboards.map(existingDashboard => {\n        if (existingDashboard.dashboardId === dashboard.dashboardId) {\n          return dashboard;\n        }\n\n        return existingDashboard;\n      }),\n    };\n  }\n};\n\nexport default loadMessage;\n","import { ILoadPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport setStatus from '../epics/setStatus';\n\nconst errorMessage = (state: IState, { dashboardId }: ILoadPayload): IState => {\n  const dashboard = state.dashboards.find(dashboard => dashboard.dashboardId === dashboardId);\n\n  state = setStatus(state, { dashboard, status: 'error' });\n\n  return state;\n};\n\nexport default errorMessage;\n","import { IExportPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport setStatus from '../epics/setStatus';\n\nconst exportMessage = (state: IState, { dashboardId, error }: IExportPayload): IState => {\n  const dashboard = state.dashboards.find(dashboard => dashboard.dashboardId === dashboardId);\n\n  state = setStatus(state, { dashboard, status: 'export' });\n\n  if (error) {\n    console.error(error.msg);\n  }\n\n  return state;\n};\n\nexport default exportMessage;\n","import { IGetDataPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport getIframesForDashboard from '../utils/getIframesForDashboard';\n\nconst getData = (state: IState, { chartId, dashboard }: IGetDataPayload): IState => {\n  const iframes = getIframesForDashboard(dashboard);\n\n  iframes.forEach(iframe => {\n    iframe.contentWindow.postMessage({ action: 'getData', id: chartId }, '*');\n  });\n\n  return state;\n};\n\nexport default getData;\n","import { ISetAuthorizationPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport getIframesForDashboard from '../utils/getIframesForDashboard';\n\nconst setAuthorization = (state: IState, { authKey, authToken, dashboard }: ISetAuthorizationPayload): IState => {\n  const iframes = getIframesForDashboard(dashboard);\n\n  iframes.forEach(iframe => {\n    if (dashboard.dashboardId) {\n      iframe.contentWindow.postMessage(\n        { action: 'setAuthorization', key: authKey, token: authToken, dashboardId: dashboard.dashboardId },\n        '*',\n      );\n    } else {\n      iframe.contentWindow.postMessage({ action: 'setAuthorization', key: authKey, token: authToken }, '*');\n    }\n  });\n\n  return state;\n};\n\nexport default setAuthorization;\n","import { IRefreshDataPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\n\nconst refreshData = (state: IState, { id }: IRefreshDataPayload): IState => {\n  let dashboards: any = document.getElementsByClassName('cio-embed-dashboard');\n\n  for (const iframe of dashboards) {\n    iframe.contentWindow.postMessage({ action: 'refreshData', id: id ? id : null }, '*');\n  }\n  return state;\n};\n\nexport default refreshData;\n","import { IExportDashboardPayload } from '../cumulio.actions';\nimport { IState } from '../cumulio.reducer';\nimport getIframesForDashboard from '../utils/getIframesForDashboard';\n\nconst exportDashboard = (state: IState, { container, format = \"png\" }: IExportDashboardPayload): IState => {\n  const iframes = getIframesForDashboard({ container });\n\n  if (iframes.length === 0) {\n    console.warn('Export error: Could not retrieve the dashboard or the container.');\n  }\n\n  iframes.forEach(iframe => {\n    const dashboard = state.dashboards.find(dashboard => iframe.src.includes(dashboard.dashboardId));\n    iframe.contentWindow.postMessage({ action: 'exportDashboard', format }, '*');\n\n    if (!dashboard) {\n      console.log('Export error: Wait until dashboard is rendered.');\n    } else {\n      let msg = 'Exporting dashboard ';\n\n      if (dashboard.dashboardId) msg = msg + dashboard.dashboardId;\n      if (dashboard.chartId) msg = msg + ' - chart: ' + dashboard.chartId;\n      if (dashboard.container) msg = msg + ' in container ' + dashboard.container;\n\n      console.log(msg);\n    }\n  });\n\n  return state;\n};\n\nexport default exportDashboard;\n","import { IState } from '../cumulio.reducer';\n\nconst reloadDashboard = (state: IState): IState => {\n  let dashboards: any = document.getElementsByClassName('cio-embed-dashboard');\n\n  for (const iframe of dashboards) {\n    iframe.contentWindow.postMessage({ action: 'refreshData' }, '*');\n  }\n  return state;\n};\n\nexport default reloadDashboard;\n"],"sourceRoot":""}